<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation - AI Prediction Platform</title>
    <link href="https://cdn.replit.com/agent/bootstrap-agent-dark-theme.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-dark.min.css" rel="stylesheet">
    <style>
        .code-example {
            background-color: var(--bs-gray-900);
            border-radius: 0.5rem;
            padding: 1rem;
            margin: 1rem 0;
        }
        .endpoint {
            font-family: 'Courier New', monospace;
            background-color: var(--bs-dark);
            padding: 0.5rem;
            border-radius: 0.25rem;
            border-left: 4px solid var(--bs-primary);
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">
        <div class="container">
            <a class="navbar-brand" href="/"><i class="fas fa-brain me-2"></i>AI Platform</a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="/"><i class="fas fa-tachometer-alt me-2"></i>Dashboard</a>
                <a class="nav-link" href="/logout"><i class="fas fa-sign-out-alt me-2"></i>Sign Out</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="row">
            <div class="col-md-3">
                <div class="card">
                    <div class="card-header">
                        <h6>Quick Navigation</h6>
                    </div>
                    <div class="list-group list-group-flush">
                        <a href="#authentication" class="list-group-item list-group-item-action">Authentication</a>
                        <a href="#lead-scoring" class="list-group-item list-group-item-action">Lead Scoring</a>
                        <a href="#churn-prediction" class="list-group-item list-group-item-action">Churn Prediction</a>
                        <a href="#sales-forecast" class="list-group-item list-group-item-action">Sales Forecasting</a>
                        <a href="#sentiment-analysis" class="list-group-item list-group-item-action">Sentiment Analysis</a>
                        <a href="#batch-upload" class="list-group-item list-group-item-action">Batch Upload</a>
                        <a href="#examples" class="list-group-item list-group-item-action">Code Examples</a>
                    </div>
                </div>
            </div>
            
            <div class="col-md-9">
                <h1 class="mb-4"><i class="fas fa-book me-3"></i>API Documentation</h1>
                
                <!-- Authentication Section -->
                <section id="authentication" class="mb-5">
                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fas fa-key me-2"></i>Authentication</h3>
                        </div>
                        <div class="card-body">
                            <p>All API requests require an API key. Include your API key in the request header:</p>
                            <div class="endpoint">
                                <strong>Header:</strong> <code>X-API-Key: YOUR_API_KEY_HERE</code>
                            </div>
                            <p class="mt-3">Get your API key from the <a href="/">Dashboard</a> page.</p>
                        </div>
                    </div>
                </section>

                <!-- Lead Scoring Section -->
                <section id="lead-scoring" class="mb-5">
                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fas fa-star me-2"></i>Lead Scoring</h3>
                        </div>
                        <div class="card-body">
                            <div class="endpoint">
                                <strong>POST</strong> /api/predict/lead-scoring
                            </div>
                            
                            <h5 class="mt-4">Request Body:</h5>
                            <div class="code-example">
<pre><code class="language-json">{
    "company_size": "Medium",
    "industry": "Technology",
    "budget": 50000,
    "engagement_score": 75,
    "source": "Website"
}</code></pre>
                            </div>

                            <h5>Response:</h5>
                            <div class="code-example">
<pre><code class="language-json">{
    "prediction": "High Quality",
    "confidence": 0.87,
    "score": 85.3,
    "model_version": "1.0",
    "timestamp": "2025-01-15T10:30:00Z"
}</code></pre>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Churn Prediction Section -->
                <section id="churn-prediction" class="mb-5">
                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fas fa-user-times me-2"></i>Churn Prediction</h3>
                        </div>
                        <div class="card-body">
                            <div class="endpoint">
                                <strong>POST</strong> /api/predict/churn-prediction
                            </div>
                            
                            <h5 class="mt-4">Request Body:</h5>
                            <div class="code-example">
<pre><code class="language-json">{
    "tenure_months": 24,
    "monthly_charges": 79.99,
    "total_charges": 1919.76,
    "contract_type": "Month-to-month",
    "payment_method": "Electronic check",
    "support_tickets": 3
}</code></pre>
                            </div>

                            <h5>Response:</h5>
                            <div class="code-example">
<pre><code class="language-json">{
    "prediction": "Will Churn",
    "confidence": 0.73,
    "churn_probability": 0.73,
    "model_version": "1.0",
    "timestamp": "2025-01-15T10:30:00Z"
}</code></pre>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Sales Forecasting Section -->
                <section id="sales-forecast" class="mb-5">
                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fas fa-chart-line me-2"></i>Sales Forecasting</h3>
                        </div>
                        <div class="card-body">
                            <div class="endpoint">
                                <strong>POST</strong> /api/predict/sales-forecast
                            </div>
                            
                            <h5 class="mt-4">Request Body:</h5>
                            <div class="code-example">
<pre><code class="language-json">{
    "historical_sales": [10000, 12000, 15000, 11000, 13000],
    "marketing_spend": 5000,
    "season": "Q1",
    "product_launches": 2,
    "market_trends": "Growing"
}</code></pre>
                            </div>

                            <h5>Response:</h5>
                            <div class="code-example">
<pre><code class="language-json">{
    "prediction": 16500.25,
    "confidence": 0.82,
    "forecast_range": {
        "low": 14200.00,
        "high": 18800.50
    },
    "model_version": "1.0",
    "timestamp": "2025-01-15T10:30:00Z"
}</code></pre>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Sentiment Analysis Section -->
                <section id="sentiment-analysis" class="mb-5">
                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fas fa-comment-alt me-2"></i>Sentiment Analysis</h3>
                        </div>
                        <div class="card-body">
                            <div class="endpoint">
                                <strong>POST</strong> /api/predict/sentiment-analysis
                            </div>
                            
                            <h5 class="mt-4">Request Body:</h5>
                            <div class="code-example">
<pre><code class="language-json">{
    "text": "I absolutely love this product! It's amazing and works perfectly."
}</code></pre>
                            </div>

                            <h5>Response:</h5>
                            <div class="code-example">
<pre><code class="language-json">{
    "sentiment": "Positive",
    "confidence": 0.95,
    "sentiment_score": 0.89,
    "keywords": ["love", "amazing", "perfectly"],
    "model_version": "1.0",
    "timestamp": "2025-01-15T10:30:00Z"
}</code></pre>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Batch Upload Section -->
                <section id="batch-upload" class="mb-5">
                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fas fa-upload me-2"></i>Batch File Upload</h3>
                        </div>
                        <div class="card-body">
                            <div class="endpoint">
                                <strong>POST</strong> /api/upload-batch
                            </div>
                            
                            <p>Upload a CSV or Excel file for batch predictions. The file should contain the required columns for your chosen prediction type.</p>
                            
                            <h5>Request:</h5>
                            <div class="code-example">
<pre><code>Content-Type: multipart/form-data
X-API-Key: YOUR_API_KEY_HERE

Form Data:
- file: [CSV/Excel file]
- prediction_type: "lead-scoring" | "churn-prediction" | "sales-forecast" | "sentiment-analysis"</code></pre>
                            </div>

                            <h5>Response:</h5>
                            <div class="code-example">
<pre><code class="language-json">{
    "message": "File uploaded and processed successfully",
    "file_id": "uuid-file-id",
    "predictions_count": 150,
    "download_url": "/api/download-results/uuid-file-id"
}</code></pre>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Code Examples Section -->
                <section id="examples" class="mb-5">
                    <div class="card">
                        <div class="card-header">
                            <h3><i class="fas fa-code me-2"></i>Code Examples</h3>
                        </div>
                        <div class="card-body">
                            <ul class="nav nav-tabs" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" data-bs-toggle="tab" href="#python-example" role="tab">Python</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-bs-toggle="tab" href="#javascript-example" role="tab">JavaScript</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" data-bs-toggle="tab" href="#curl-example" role="tab">cURL</a>
                                </li>
                            </ul>
                            
                            <div class="tab-content mt-3">
                                <div class="tab-pane fade show active" id="python-example" role="tabpanel">
                                    <div class="code-example">
<pre><code class="language-python">import requests

# Your API configuration
API_KEY = "your-api-key-here"
BASE_URL = "https://your-app.replit.app"

headers = {
    "X-API-Key": API_KEY,
    "Content-Type": "application/json"
}

# Lead scoring example
data = {
    "company_size": "Medium",
    "industry": "Technology", 
    "budget": 50000,
    "engagement_score": 75,
    "source": "Website"
}

response = requests.post(
    f"{BASE_URL}/api/predict/lead-scoring",
    headers=headers,
    json=data
)

if response.status_code == 200:
    result = response.json()
    print(f"Prediction: {result['prediction']}")
    print(f"Confidence: {result['confidence']}")
else:
    print(f"Error: {response.status_code} - {response.text}")
</code></pre>
                                    </div>
                                </div>
                                
                                <div class="tab-pane fade" id="javascript-example" role="tabpanel">
                                    <div class="code-example">
<pre><code class="language-javascript">// Your API configuration
const API_KEY = 'your-api-key-here';
const BASE_URL = 'https://your-app.replit.app';

// Lead scoring example
const data = {
    company_size: "Medium",
    industry: "Technology",
    budget: 50000,
    engagement_score: 75,
    source: "Website"
};

fetch(`${BASE_URL}/api/predict/lead-scoring`, {
    method: 'POST',
    headers: {
        'X-API-Key': API_KEY,
        'Content-Type': 'application/json',
    },
    body: JSON.stringify(data)
})
.then(response => response.json())
.then(result => {
    console.log('Prediction:', result.prediction);
    console.log('Confidence:', result.confidence);
})
.catch(error => {
    console.error('Error:', error);
});
</code></pre>
                                    </div>
                                </div>
                                
                                <div class="tab-pane fade" id="curl-example" role="tabpanel">
                                    <div class="code-example">
<pre><code class="language-bash">curl -X POST https://your-app.replit.app/api/predict/lead-scoring \
  -H "X-API-Key: your-api-key-here" \
  -H "Content-Type: application/json" \
  -d '{
    "company_size": "Medium",
    "industry": "Technology",
    "budget": 50000,
    "engagement_score": 75,
    "source": "Website"
  }'
</code></pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
</body>
</html>